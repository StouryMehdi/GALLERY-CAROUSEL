<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrollTrigger.min.js"></script>

    <link href="style1.css" rel="stylesheet"></link>
  </head>
 </html>

<div class="demo-demo">
  <div class="df aic jcc">
  </div>
  <section class="demo-gallery">
    <ul class="wrr">
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=133"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=50"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=165"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=127"
          width="1240"
        />
      </li>
    </ul>
  </section>
  <section class="demo-gallery">
    <ul class="wrr">
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=50"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=33"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=5"
          width="1240"
        />
      </li>
    </ul>
  </section>
  <section class="demo-gallery">
    <ul class="wrr">
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=195"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=206"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=29"
          width="1240"
        />
      </li>
    </ul>
  </section>
  <section class="demo-gallery">
    <ul class="wrr">
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=39"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=111"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=104"
          width="1240"
        />
      </li>
      <li class="www">
        <img class="gallery"
          height="874"
          src="https://source.unsplash.com/random/1240x874?sig=104"
          width="1240"
        />
      </li>
    </ul>
  </section>
  <!-- <section class="demo-text">
    <div class="wrr text">ABCDEFGHIJKLMNOPQRSTUVWXYZ</div>
  </section> -->
  </div>
<script>
  gsap.registerPlugin(ScrollTrigger);

  const images = gsap.utils.toArray("gallery");
  const loader = document.querySelector(".loader--text");
  const updateProgress = (instance) =>
    (loader.textContent = `${Math.round(
      (instance.progressedCount * 100) / images.length
    )}%`);

  const showDemo = () => {
    document.body.style.overflow = "auto";
    document.scrollingElement.scrollTo(0, 0);
    gsap.to(document.querySelector(".loader"), { autoAlpha: 0 });

    gsap.utils.toArray("section").forEach((section, index) => {
      const w = section.querySelector(".wrr");
      const [x, xEnd] =
        index % 2
          ? ["100%", (w.scrollWidth - section.offsetWidth) * -1]
          : [w.scrollWidth * -1, 0];
      gsap.fromTo(
        w,
        { x },
        {
          x: xEnd,
          scrollTrigger: {
            trigger: section,
            scrub: 0.5,
          },
        }
      );
    });
  };

  imagesLoaded(images).on("progress", updateProgress).on("always", showDemo);
</script>